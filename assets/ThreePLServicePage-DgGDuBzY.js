import{d as e,b as t,k as s,j as r,a,e as i,f as n}from"./ui-BUgdJNRx.js";import{r as o}from"./vendor-D4-GdBKu.js";import{j as c,k as l,l as d,m as u,s as m,t as h,L as p,e as x,X as g,I as j,C as v,d as f,b as y,c as S,u as b,N as C}from"./index-CfkvcNHQ.js";import{u as N}from"./index-Bp323OVb.js";import{S as k,a as q,b as w,c as P,d as F}from"./select-Berotu50.js";import{S as U}from"./separator-ByumyW-V.js";import{T as R}from"./textarea-AdBaKfUa.js";import{T as _,a as E,b as D,c as I}from"./tabs-B9PWSwdy.js";import{F as M}from"./file-text-RkInSIK6.js";import{C as A}from"./circle-alert-DlIoK4s9.js";
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=c("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),O=c("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var L="Checkbox",[T,z]=e(L),[H,B]=T(L),X=o.forwardRef(((e,n)=>{const{__scopeCheckbox:c,name:l,checked:d,defaultChecked:u,required:m,disabled:h,value:p="on",onCheckedChange:x,form:g,...j}=e,[v,f]=o.useState(null),y=t(n,(e=>f(e))),S=o.useRef(!1),b=!v||(g||!!v.closest("form")),[C=!1,N]=s({prop:d,defaultProp:u,onChange:x}),k=o.useRef(C);return o.useEffect((()=>{const e=null==v?void 0:v.form;if(e){const t=()=>N(k.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}}),[v,N]),r.jsxs(H,{scope:c,state:C,disabled:h,children:[r.jsx(a.button,{type:"button",role:"checkbox","aria-checked":K(C)?"mixed":C,"aria-required":m,"data-state":J(C),"data-disabled":h?"":void 0,disabled:h,value:p,...j,ref:y,onKeyDown:i(e.onKeyDown,(e=>{"Enter"===e.key&&e.preventDefault()})),onClick:i(e.onClick,(e=>{N((e=>!!K(e)||!e)),b&&(S.current=e.isPropagationStopped(),S.current||e.stopPropagation())}))}),b&&r.jsx(Y,{control:v,bubbles:!S.current,name:l,value:p,checked:C,required:m,disabled:h,form:g,style:{transform:"translateX(-100%)"},defaultChecked:!K(u)&&u})]})}));X.displayName=L;var $="CheckboxIndicator",W=o.forwardRef(((e,t)=>{const{__scopeCheckbox:s,forceMount:i,...o}=e,c=B($,s);return r.jsx(n,{present:i||K(c.state)||!0===c.state,children:r.jsx(a.span,{"data-state":J(c.state),"data-disabled":c.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})}));W.displayName=$;var Y=e=>{const{control:t,checked:s,bubbles:a=!0,defaultChecked:i,...n}=e,c=o.useRef(null),d=N(s),u=l(t);o.useEffect((()=>{const e=c.current,t=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(t,"checked").set;if(d!==s&&r){const t=new Event("click",{bubbles:a});e.indeterminate=K(s),r.call(e,!K(s)&&s),e.dispatchEvent(t)}}),[d,s,a]);const m=o.useRef(!K(s)&&s);return r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??m.current,...n,tabIndex:-1,ref:c,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function K(e){return"indeterminate"===e}function J(e){return K(e)?"indeterminate":e?"checked":"unchecked"}var G=X,Q=W;const Z=o.forwardRef((({className:e,...t},s)=>r.jsx(G,{ref:s,className:d("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(Q,{className:d("flex items-center justify-center text-current"),children:r.jsx(u,{className:"h-4 w-4"})})})));Z.displayName=G.displayName;const ee=async e=>{try{const t=`3PL-${Math.floor(1e6*Math.random())}`,{error:s}=await m.from("three_pl_requests").insert({request_id:t,user_id:e.userId,company_name:e.companyName,contact_name:e.contactName,contact_email:e.contactEmail,contact_phone:e.contactPhone,product_type:e.productType,product_category:e.productCategory,hazardous_materials:e.hazardousMaterials,special_handling_needed:e.specialHandlingNeeded,special_handling_notes:e.specialHandlingNotes,estimated_volume:e.estimatedVolume,temperature_controlled:e.temperatureControlled,security_requirements:e.securityRequirements,average_orders_per_month:e.averageOrdersPerMonth,peak_season_months:e.peakSeasonMonths,international_shipping:e.internationalShipping,integration_needed:e.integrationNeeded,integration_systems:e.integrationSystems,custom_requirements:e.customRequirements,document_url:e.documentUrl,ecommerce_platform:e.ecommercePlatform,ecommerce_store_url:e.ecommerceStoreUrl,ecommerce_sku_count:e.ecommerceSkuCount,ecommerce_order_volume:e.ecommerceOrderVolume});return s?(h({title:"Submission Failed",description:"There was a problem saving your request. Please try again.",variant:"destructive"}),{success:!1,message:"Database error: "+s.message}):(h({title:"Request Submitted",description:"Your 3PL service request has been received. We'll contact you shortly."}),{success:!0,requestId:t})}catch(t){return h({title:"Submission Failed",description:"There was a problem processing your request. Please try again.",variant:"destructive"}),{success:!1,message:"An unexpected error occurred"}}},te=({userId:e,onDocumentUploaded:t})=>{const[s,a]=o.useState(null),[i,n]=o.useState(!1),[c,l]=o.useState(!1),[d,v]=o.useState(null);return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(M,{className:"h-5 w-5 text-muted-foreground"}),r.jsx(p,{htmlFor:"document-upload",className:"font-medium",children:"Upload Requirements Document (Optional)"})]}),r.jsx("div",{className:"border border-dashed rounded-md p-6 bg-muted/30",children:c?r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[r.jsx(u,{className:"h-5 w-5"}),r.jsxs("span",{children:[null==s?void 0:s.name," uploaded successfully"]})]}),r.jsxs(x,{variant:"ghost",size:"sm",onClick:()=>{a(null),l(!1),v(null),t("")},children:[r.jsx(g,{className:"h-4 w-4 mr-1"})," Remove"]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"text-center mb-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"If you prefer not to fill out the entire form, you can upload a document with your requirements."}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Accepted formats: PDF, DOCX, XLS, XLSX (Max: 10MB)"})]}),r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(j,{id:"document-upload",type:"file",accept:".pdf,.docx,.doc,.xlsx,.xls",onChange:e=>{var t;if(e.target.files&&e.target.files[0]){const s=e.target.files[0];if(s.size>10485760)return v("File too large. Maximum size is 10MB."),void h({title:"File Too Large",description:"Maximum file size is 10MB. Please select a smaller file.",variant:"destructive"});const r=null==(t=s.name.split(".").pop())?void 0:t.toLowerCase();if(!r||!["pdf","docx","doc","xlsx","xls"].includes(r))return v("Invalid file type. Allowed: PDF, DOCX, XLS, XLSX"),void h({title:"Invalid File Type",description:"Please upload a PDF, DOCX, XLS, or XLSX file.",variant:"destructive"});a(s),v(null),l(!1)}},disabled:i,className:"flex-1"}),r.jsx(x,{onClick:async()=>{if(s&&e){n(!0),v(null);try{const r=await(async(e,t)=>{try{const r=(new Date).getTime(),a=(e.name.split(".").pop(),`${t}/${r}-${e.name}`);try{const{data:t,error:s}=await m.storage.from("three_pl_documents").upload(a,e,{cacheControl:"3600",upsert:!0});if(s)return h({title:"Upload Failed",description:s.message||"There was a problem uploading your document. Please try again.",variant:"destructive"}),null;const{data:r}=await m.storage.from("three_pl_documents").getPublicUrl(a);return r&&r.publicUrl?r.publicUrl:(h({title:"Upload Issue",description:"File uploaded but could not retrieve URL. Please try again.",variant:"destructive"}),null)}catch(s){return h({title:"Upload Error",description:"An unexpected error occurred during upload.",variant:"destructive"}),null}}catch(s){return h({title:"Upload Error",description:"An unexpected error occurred during upload.",variant:"destructive"}),null}})(s,e);r?(l(!0),t(r),h({title:"Upload Successful",description:"Your document has been uploaded successfully."})):(v("Failed to get document URL after upload"),t(""),h({title:"Upload Failed",description:"There was a problem finalizing your document upload.",variant:"destructive"}))}catch(r){v("An unexpected error occurred"),t(""),h({title:"Upload Error",description:"An unexpected error occurred during upload.",variant:"destructive"})}finally{n(!1)}}else h({title:"Upload Error",description:e?"No file selected.":"User not logged in.",variant:"destructive"})},disabled:!s||i||c,variant:"outline",children:i?"Uploading...":r.jsxs(r.Fragment,{children:[r.jsx(O,{className:"h-4 w-4 mr-2"})," Upload"]})})]}),s&&!c&&!i&&r.jsxs("div",{className:"text-sm",children:["Selected: ",s.name," (",(s.size/1024/1024).toFixed(2)," MB)"]}),d&&r.jsxs("div",{className:"text-sm text-destructive",children:["Error: ",d]})]})]})})]})},se=[{id:"shopify",name:"Shopify",description:"Connect your Shopify store to automate order fulfillment",apiDocUrl:"https://shopify.dev/docs/api"},{id:"woocommerce",name:"WooCommerce",description:"Integrate with your WooCommerce store",apiDocUrl:"https://woocommerce.github.io/woocommerce-rest-api-docs/"},{id:"magento",name:"Magento",description:"Connect your Magento e-commerce store",apiDocUrl:"https://devdocs.magento.com/guides/v2.4/rest/bk-rest.html"},{id:"bigcommerce",name:"BigCommerce",description:"Integrate with your BigCommerce store",apiDocUrl:"https://developer.bigcommerce.com/api-docs"},{id:"amazon",name:"Amazon Seller Central",description:"Fulfill orders from your Amazon seller account",apiDocUrl:"https://developer-docs.amazon.com/sp-api/docs"},{id:"other",name:"Other Platform",description:"Connect with any other e-commerce platform"}],re=({onPlatformChange:e,onStoreUrlChange:t,onSkuCountChange:s,onOrderVolumeChange:a})=>{const[i,n]=o.useState(""),[c,l]=o.useState(""),[d,u]=o.useState(""),[m,g]=o.useState(""),[y,S]=o.useState(""),[b,C]=o.useState(!1),[N,R]=o.useState("none"),[_,E]=o.useState(""),D=se.find((e=>e.id===i));return r.jsx(v,{children:r.jsx(f,{className:"pt-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(p,{htmlFor:"platform",children:"E-commerce Platform"}),r.jsxs(k,{value:i,onValueChange:t=>{n(t),e(t),R("none"),E("")},children:[r.jsx(q,{id:"platform",children:r.jsx(w,{placeholder:"Select platform"})}),r.jsx(P,{children:se.map((e=>r.jsx(F,{value:e.id,children:e.name},e.id)))})]}),D&&r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:D.description})]}),i&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(p,{htmlFor:"storeUrl",children:"Store URL"}),r.jsx(j,{id:"storeUrl",value:d,onChange:e=>{const s=e.target.value;u(s),t(s)},placeholder:"https://your-store.com"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(p,{htmlFor:"apiKey",children:"API Key or Access Token"}),r.jsx(j,{id:"apiKey",type:"password",value:c,onChange:e=>l(e.target.value),placeholder:"Your platform API key"}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["The API key is only used for validation and is not stored.",(null==D?void 0:D.apiDocUrl)&&r.jsxs(r.Fragment,{children:[" ",r.jsx("a",{href:D.apiDocUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"View API documentation"})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(x,{onClick:async()=>{if(i&&c&&d){C(!0);try{const e=await(async(e,t,s)=>e&&t&&s?s.startsWith("http://")||s.startsWith("https://")?{valid:!0,message:`Successfully connected to ${e}`}:{valid:!1,message:"Store URL must begin with http:// or https://"}:{valid:!1,message:"All connection details are required"})(i,c,d);e.valid?(R("connected"),h({title:"Connection Successful",description:e.message})):(R("failed"),h({title:"Connection Failed",description:e.message,variant:"destructive"})),E(e.message)}catch(e){R("failed"),E("An error occurred during validation"),h({title:"Connection Error",description:"Failed to validate connection. Please try again.",variant:"destructive"})}finally{C(!1)}}else h({title:"Validation Error",description:"Please provide platform, API key, and store URL to validate",variant:"destructive"})},disabled:!i||!c||!d||b,variant:"outline",size:"sm",children:b?"Validating...":"Validate Connection"})}),"none"!==N&&r.jsxs("div",{className:"p-3 rounded-md flex items-center gap-2 "+("connected"===N?"bg-green-50":"bg-red-50"),children:["connected"===N?r.jsx(V,{className:"h-5 w-5 text-green-600"}):r.jsx(A,{className:"h-5 w-5 text-red-600"}),r.jsx("span",{className:"connected"===N?"text-green-700":"text-red-700",children:_})]}),r.jsx(U,{className:"my-4"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"text-sm font-medium",children:"Store Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(p,{htmlFor:"skuCount",children:"Number of SKUs"}),r.jsx(j,{id:"skuCount",value:m,onChange:e=>{const t=e.target.value;g(t),s(t)},placeholder:"e.g., 100"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(p,{htmlFor:"orderVolume",children:"Average Monthly Order Volume"}),r.jsx(j,{id:"orderVolume",value:y,onChange:e=>{const t=e.target.value;S(t),a(t)},placeholder:"e.g., 500"})]})]})]})]})]})})})},ae=({userId:e,onSubmit:t,isSubmitting:s})=>{const[a,i]=o.useState(""),[n,c]=o.useState(""),[l,d]=o.useState(""),[u,m]=o.useState(""),[g,b]=o.useState(""),[C,N]=o.useState(""),[k,q]=o.useState(!1),[w,P]=o.useState(""),[F,U]=o.useState(""),[_,E]=o.useState(""),[D,I]=o.useState("");return r.jsxs(v,{children:[r.jsx(y,{children:r.jsx(S,{children:"Quick 3PL Service Request"})}),r.jsx(f,{children:r.jsxs("form",{onSubmit:e=>{e.preventDefault(),C||g?t({companyName:a,contactName:n,contactEmail:l,contactPhone:u,requirements:g,documentUrl:C,ecommercePlatform:k?w:void 0,ecommerceStoreUrl:k?F:void 0,ecommerceSkuCount:k?_:void 0,ecommerceOrderVolume:k?D:void 0}):h({title:"Submission Error",description:"Please either upload a document or provide brief requirements.",variant:"destructive"})},className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(p,{htmlFor:"companyName",children:"Company Name"}),r.jsx(j,{id:"companyName",value:a,onChange:e=>i(e.target.value),required:!0})]}),r.jsxs("div",{children:[r.jsx(p,{htmlFor:"contactName",children:"Contact Name"}),r.jsx(j,{id:"contactName",value:n,onChange:e=>c(e.target.value),required:!0})]}),r.jsxs("div",{children:[r.jsx(p,{htmlFor:"contactEmail",children:"Contact Email"}),r.jsx(j,{id:"contactEmail",type:"email",value:l,onChange:e=>d(e.target.value),required:!0})]}),r.jsxs("div",{children:[r.jsx(p,{htmlFor:"contactPhone",children:"Contact Phone"}),r.jsx(j,{id:"contactPhone",value:u,onChange:e=>m(e.target.value),required:!0})]})]}),r.jsxs("div",{children:[r.jsx(p,{htmlFor:"requirements",children:"Brief Requirements"}),r.jsx(R,{id:"requirements",value:g,onChange:e=>b(e.target.value),placeholder:"Briefly describe your logistics needs",className:"min-h-[100px]"})]}),r.jsx(te,{userId:e,onDocumentUploaded:e=>{N(e)}}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Z,{id:"showEcommerce",checked:k,onCheckedChange:e=>q(e)}),r.jsx(p,{htmlFor:"showEcommerce",children:"I need e-commerce platform integration"})]}),k&&r.jsxs("div",{className:"mt-4",children:[r.jsx("h3",{className:"text-lg font-medium mb-2",children:"E-commerce Integration"}),r.jsx(re,{onPlatformChange:P,onStoreUrlChange:U,onSkuCountChange:E,onOrderVolumeChange:I})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(x,{type:"submit",disabled:s||!C&&!g,children:s?"Submitting...":"Submit Request"})})]})})]})},ie=["Electronics","Clothing & Apparel","Food & Beverage","Health & Beauty","Home & Garden","Toys & Games","Books & Media","Industrial & Scientific","Automotive","Other"],ne=["January","February","March","April","May","June","July","August","September","October","November","December"],oe=()=>{const{isSignedIn:e,user:t}=b(),[s,a]=o.useState("detailed"),[i,n]=o.useState(""),[c,l]=o.useState(""),[d,u]=o.useState(""),[m,g]=o.useState(""),[N,M]=o.useState(""),[A,V]=o.useState(""),[O,L]=o.useState(!1),[T,z]=o.useState(!1),[H,B]=o.useState(""),[X,$]=o.useState(""),[W,Y]=o.useState(!1),[K,J]=o.useState("Standard"),[G,Q]=o.useState(""),[se,oe]=o.useState([]),[ce,le]=o.useState(!1),[de,ue]=o.useState(!1),[me,he]=o.useState([]),[pe,xe]=o.useState(""),[ge,je]=o.useState(""),[ve,fe]=o.useState(""),[ye,Se]=o.useState(""),[be,Ce]=o.useState(""),[Ne,ke]=o.useState(""),[qe,we]=o.useState(!1),[Pe,Fe]=o.useState(!1),[Ue,Re]=o.useState(null);return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(C,{}),r.jsx("div",{className:"container mx-auto px-4 py-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("h1",{className:"text-3xl font-bold mb-6",children:"3PL Services Request"}),r.jsx("p",{className:"text-muted-foreground mb-8",children:"Complete this form to request our Third-Party Logistics (3PL) services. Our team will review your requirements and contact you within 1-2 business days with a custom solution for your business."}),r.jsxs(_,{defaultValue:"detailed",value:s,onValueChange:a,className:"mb-8",children:[r.jsxs(E,{className:"grid w-full grid-cols-2",children:[r.jsx(D,{value:"detailed",children:"Detailed Form"}),r.jsx(D,{value:"simple",children:"Quick Upload"})]}),r.jsx(I,{value:"detailed",children:r.jsxs("form",{onSubmit:e=>{e.preventDefault(),Fe(!0)},className:"space-y-8",children:[r.jsxs(v,{children:[r.jsx(y,{children:r.jsx(S,{children:"Company Information"})}),r.jsx(f,{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(p,{htmlFor:"companyName",children:"Company Name"}),r.jsx(j,{id:"companyName",value:i,onChange:e=>n(e.target.value),required:!0})]}),r.jsxs("div",{children:[r.jsx(p,{htmlFor:"contactName",children:"Contact Name"}),r.jsx(j,{id:"contactName",value:c,onChange:e=>l(e.target.value),required:!0})]}),r.jsxs("div",{children:[r.jsx(p,{htmlFor:"contactEmail",children:"Contact Email"}),r.jsx(j,{id:"contactEmail",type:"email",value:d,onChange:e=>u(e.target.value),required:!0})]}),r.jsxs("div",{children:[r.jsx(p,{htmlFor:"contactPhone",children:"Contact Phone"}),r.jsx(j,{id:"contactPhone",value:m,onChange:e=>g(e.target.value),required:!0})]})]})})]}),r.jsxs(v,{children:[r.jsx(y,{children:r.jsx(S,{children:"Supporting Documentation (Optional)"})}),r.jsxs(f,{children:[r.jsx(te,{userId:(null==t?void 0:t.id)||"",onDocumentUploaded:e=>{je(e)}}),r.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"You can upload a document with additional requirements or specifications to supplement this form."})]})]}),r.jsxs(v,{children:[r.jsx(y,{children:r.jsx(S,{children:"Product Details"})}),r.jsxs(f,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(p,{htmlFor:"productType",children:"Product Type/Description"}),r.jsx(R,{id:"productType",value:N,onChange:e=>M(e.target.value),required:!0,placeholder:"Describe your products"})]}),r.jsxs("div",{children:[r.jsx(p,{htmlFor:"productCategory",children:"Product Category"}),r.jsxs(k,{value:A,onValueChange:V,required:!0,children:[r.jsx(q,{id:"productCategory",children:r.jsx(w,{placeholder:"Select category"})}),r.jsx(P,{children:ie.map((e=>r.jsx(F,{value:e,children:e},e)))})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Z,{id:"hazardousMaterials",checked:O,onCheckedChange:e=>L(e)}),r.jsx(p,{htmlFor:"hazardousMaterials",children:"Contains hazardous materials"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Z,{id:"specialHandling",checked:T,onCheckedChange:e=>z(e)}),r.jsx(p,{htmlFor:"specialHandling",children:"Requires special handling"})]}),T&&r.jsxs("div",{children:[r.jsx(p,{htmlFor:"specialHandlingNotes",children:"Special Handling Requirements"}),r.jsx(R,{id:"specialHandlingNotes",value:H,onChange:e=>B(e.target.value),placeholder:"Describe special handling requirements"})]})]})]}),r.jsxs(v,{children:[r.jsx(y,{children:r.jsx(S,{children:"Storage & Fulfillment Requirements"})}),r.jsxs(f,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(p,{htmlFor:"estimatedVolume",children:"Estimated Storage Volume (pallets/month)"}),r.jsx(j,{id:"estimatedVolume",value:X,onChange:e=>$(e.target.value),required:!0})]}),r.jsxs("div",{children:[r.jsx(p,{htmlFor:"estimatedVolume",children:"Estimated Storage Volume (pallets/month)"}),r.jsx(j,{id:"estimatedVolume",value:X,onChange:e=>$(e.target.value),required:!0})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Z,{id:"temperatureControlled",checked:W,onCheckedChange:e=>Y(e)}),r.jsx(p,{htmlFor:"temperatureControlled",children:"Requires temperature-controlled storage"})]}),r.jsxs("div",{children:[r.jsx(p,{htmlFor:"securityRequirements",children:"Security Requirements"}),r.jsxs(k,{value:K,onValueChange:J,children:[r.jsx(q,{id:"securityRequirements",children:r.jsx(w,{placeholder:"Select security level"})}),r.jsxs(P,{children:[r.jsx(F,{value:"Standard",children:"Standard Security"}),r.jsx(F,{value:"High",children:"High Security"}),r.jsx(F,{value:"Maximum",children:"Maximum Security"})]})]})]}),r.jsx(U,{}),r.jsxs("div",{children:[r.jsx(p,{htmlFor:"averageOrders",children:"Average Monthly Orders"}),r.jsx(j,{id:"averageOrders",value:G,onChange:e=>Q(e.target.value),required:!0})]}),r.jsxs("div",{children:[r.jsx(p,{className:"block mb-2",children:"Peak Season Months (select all that apply)"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:ne.map((e=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Z,{id:`month-${e}`,checked:se.includes(e),onCheckedChange:()=>(e=>{oe((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]))})(e)}),r.jsx(p,{htmlFor:`month-${e}`,children:e})]},e)))})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Z,{id:"internationalShipping",checked:ce,onCheckedChange:e=>le(e)}),r.jsx(p,{htmlFor:"internationalShipping",children:"Requires international shipping"})]})]})]}),r.jsxs(v,{children:[r.jsx(y,{children:r.jsx(S,{children:"Additional Requirements"})}),r.jsxs(f,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Z,{id:"integrationNeeded",checked:de,onCheckedChange:e=>ue(e)}),r.jsx(p,{htmlFor:"integrationNeeded",children:"Requires e-commerce platform integration"})]}),de&&r.jsx("div",{className:"mt-4",children:r.jsx(re,{onPlatformChange:fe,onStoreUrlChange:Se,onSkuCountChange:Ce,onOrderVolumeChange:ke})}),r.jsxs("div",{children:[r.jsx(p,{htmlFor:"customRequirements",children:"Custom Requirements or Additional Information"}),r.jsx(R,{id:"customRequirements",value:pe,onChange:e=>xe(e.target.value),placeholder:"Any other requirements or information you'd like to share",className:"min-h-[100px]"})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(x,{type:"submit",size:"lg",children:"Submit 3PL Request"})})]})}),r.jsxs(I,{value:"simple",children:[r.jsx(ae,{userId:(null==t?void 0:t.id)||"",onSubmit:async s=>{var r;if(e&&t){we(!0);try{const e=await ee({companyName:s.companyName,contactName:s.contactName,contactEmail:s.contactEmail,contactPhone:s.contactPhone,productType:"See uploaded document or brief description",productCategory:"Other",hazardousMaterials:!1,specialHandlingNeeded:!1,estimatedVolume:"See uploaded document or brief description",temperatureControlled:!1,securityRequirements:"Standard",averageOrdersPerMonth:"See uploaded document or brief description",peakSeasonMonths:[],internationalShipping:!1,integrationNeeded:!!s.ecommercePlatform,customRequirements:s.requirements,documentUrl:s.documentUrl,userId:t.id,ecommercePlatform:s.ecommercePlatform,ecommerceStoreUrl:s.ecommerceStoreUrl,ecommerceSkuCount:s.ecommerceSkuCount,ecommerceOrderVolume:s.ecommerceOrderVolume});Re(e),e.success?h({title:"Request Submitted",description:`Your 3PL service request has been submitted with ID: ${e.requestId}`}):h({title:"Submission Failed",description:e.message||"There was a problem with your request.",variant:"destructive"})}catch(a){h({title:"Submission Error",description:"An unexpected error occurred.",variant:"destructive"})}finally{we(!1)}}else null==(r=document.querySelector("button.cl-userButtonTrigger"))||r.click()},isSubmitting:qe}),r.jsx("div",{className:"mt-4 text-sm text-muted-foreground",children:r.jsxs("p",{children:["Need to provide more detailed information? Switch to the",r.jsx(x,{variant:"link",className:"p-0 h-auto",onClick:()=>a("detailed"),children:"Detailed Form"})]})})]})]}),Pe&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(v,{className:"max-w-lg w-full",children:[r.jsx(y,{children:r.jsx(S,{children:"Confirm 3PL Service Request"})}),r.jsxs(f,{className:"space-y-4",children:[r.jsx("p",{children:"Please review your information before submitting. Our team will contact you within 1-2 business days to discuss your 3PL service requirements."}),r.jsxs("div",{className:"text-sm space-y-2",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Company:"})," ",i]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Contact:"})," ",c," (",d,")"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Product Type:"})," ",N]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Storage Volume:"})," ",X," pallets/month"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Storage Volume:"})," ",X," shelves/month"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Average Orders:"})," ",G,"/month"]}),ge&&r.jsxs("p",{children:[r.jsx("strong",{children:"Document:"})," Uploaded"]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(x,{variant:"outline",onClick:()=>Fe(!1),children:"Edit Request"}),r.jsx(x,{onClick:async()=>{var s;if(e&&t){we(!0);try{const e=await ee({companyName:i,contactName:c,contactEmail:d,contactPhone:m,productType:N,productCategory:A,hazardousMaterials:O,specialHandlingNeeded:T,specialHandlingNotes:H,estimatedVolume:X,temperatureControlled:W,securityRequirements:K,averageOrdersPerMonth:G,peakSeasonMonths:se,internationalShipping:ce,integrationNeeded:de,integrationSystems:de?me:void 0,customRequirements:pe,documentUrl:ge,userId:t.id,ecommercePlatform:de&&(null==me?void 0:me.includes("Shopify"))?"Shopify":de&&(null==me?void 0:me.includes("WooCommerce"))?"WooCommerce":de&&(null==me?void 0:me.includes("Magento"))?"Magento":de&&(null==me?void 0:me.includes("BigCommerce"))?"BigCommerce":de&&(null==me?void 0:me.includes("Amazon"))?"Amazon":void 0,ecommerceStoreUrl:ye,ecommerceSkuCount:be,ecommerceOrderVolume:Ne});Re(e),e.success?h({title:"Request Submitted",description:`Your 3PL service request has been submitted with ID: ${e.requestId}`}):h({title:"Submission Failed",description:e.message||"There was a problem with your request.",variant:"destructive"})}catch(r){h({title:"Submission Error",description:"An unexpected error occurred.",variant:"destructive"})}finally{we(!1)}}else null==(s=document.querySelector("button.cl-userButtonTrigger"))||s.click()},disabled:qe,children:qe?"Submitting...":"Confirm & Submit"})]})]})]})}),Ue&&Ue.success&&r.jsxs("div",{className:"mt-8 bg-green-50 p-6 rounded-lg border border-green-200",children:[r.jsx("h3",{className:"text-xl font-medium text-green-800 mb-2",children:"Request Submitted Successfully!"}),r.jsx("p",{className:"text-green-700 mb-4",children:"Your 3PL service request has been submitted. Our team will review your requirements and contact you within 1-2 business days."}),r.jsxs("p",{className:"text-sm text-green-600",children:["Request ID: ",Ue.requestId]})]})]})})]})};export{oe as default};
